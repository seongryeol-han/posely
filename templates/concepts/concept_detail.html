{% extends "base.html" %}
{% load humanize %}


{%block page_title%}{{concept.name}}{%endblock page_title%}

{% block logo_name %}
{% endblock logo_name %} 

{% block search-bar %}
    <div class="font-semibold text-sm">촬영 예약</div>
{% endblock search-bar %}

{% block nav-icons %}
{% endblock nav-icons %}

{% block content %}

<div class="mx-auto flex flex-col items-center overflow-auto mobile:mb-4">
    <div class="absolute w-600px mobile:w-full mx-auto flex flex-col items-center justify-center p-4 px-4 bg-white mobile:p-4 mobile:mt-2">
        
        
        <div class="w-full font-semibold pl-1" style="color:#1a202c; font-size: 20px;">{{concept.name}} <a href="{% url 'studios:profile' concept.studio.pk%}" class="mr-1 text-gray-500" style="font-size: 12px;" >{{concept.studio}}&nbsp;<i class="fas fa-chevron-circle-right"></i></a></div>
        
        <div class="w-full mb-2 pl-1" style="font-size: 12px;">
                
                <div  class="text-xs text-blue-400 hover:text-blue-600" >
                    <a href="{% url 'studios:profile' concept.studio.pk%}#location">
                        <i class="fas fa-map-marker-alt"></i>&nbsp;{{concept.studio.addr_short}} {{concept.studio.addr_detail}}
                    </a>
                </div>
        </div>

        <div class="w-full mb-4 border-b pb-6">
            <div class="swiper-container">
                <div class="swiper-wrapper " >
                    {% for photo in concept.all_photo %}
                    <div class="swiper-slide">
                        <img src="{{photo.file.url}}" style="width: 100%;" class="rounded-lg">
                    </div>
                    {% endfor %}
                </div>
        
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            
            </div>
            <div class="flex justify-between items-end font-semibold mt-3 px-1 h-6" style="color:#1a202c; font-size: 18px;">
                <div class="">촬영 가격</div>
                <div class="">{{concept.price|intcomma}}원</div>
            </div>
        </div>

        <div class="w-full mb-4 border-b pb-4 px-1">
            <div class="font-semibold mb-2 mobile:mb-1" style="color:#1a202c;">컨셉 설명</div>
            <div class="text-sm text-gray-800" style="line-height: 130%; word-break: keep-all;">{{concept.service_config | linebreaksbr}}</div>
        </div>

        <div class="w-full mb-4 border-b pb-4 px-1">
            <div class="font-semibold mb-2 mobile:mb-1" style="color:#1a202c;">사진관 이용안내</div>
            <div class="text-sm text-gray-800" style=" line-height: 130%; word-break: keep-all;">{{concept.studio.using_info | linebreaksbr}}</div>
            
        </div>

        <div class="h-8 mobile:h-10"></div>
        
    </div>
</div>

<div class="fixed bottom-0 left-0 w-full flex justify-center items-end">
    <div class="relative top-0 bg-white w-600px px-4">
        <div class="flex flex-col justify-center h-full pt-2 pb-4">
            <div id="reservation_button" class="rounded-md mobile:font-semibold py-2 text-white text-center cursor-pointer" style="background-color: #FE82B1;">촬영 문의하기</div>
        </div>
    </div>
</div>

<div class="modal hidden fixed top-0 left-0 w-full h-full flex justify-center items-center">
    <div class="modal_overlay bg-black opacity-50 w-full h-full absolute"></div>
    <div class="modal_content relative top-0 shadow-2xl rounded-xl bg-white w-350px p-6">
        <div class="flex justify-between">
            <div class="text-sm font-semibold">촬영 예약 문의</div>
            <div class="modal_close_button text-sm font-semibold cursor-pointer"><i class="fas fa-times"></i></div>
        </div>
        <div class="flex flex-col justify-center h-full py-4">
            
            {% if concept.studio.kakao_chat %}
            <a href="{{concept.studio.kakao_chat}}" target="popup" class="bg-yellow-500 text-sm text-white text-center py-2 rounded-md"><i class="fas fa-comment"></i><p class="inline ml-2">카카오톡 문의</p></a>
            {% endif %}
            {% if concept.studio.phone_number %}
            <a href="sms:{{concept.studio.phone_number}}" class="bg-green-500 text-sm text-white text-center py-2 mt-3 rounded-md hidden mobile:block"><i class="fas fa-envelope"></i><p class="inline ml-2">문자 문의</p></a>
            <a href="tel:{{concept.studio.phone_number}}" class="bg-blue-500 text-sm text-white text-center py-2 mt-3 rounded-md hidden mobile:block"><i class="fas fa-phone-alt"></i><p class="inline ml-2">전화 문의</p></a>
            <a class=" text-sm text-center py-2 rounded-md font-semibold mobile:hidden"> 전화번호 {{concept.studio.phone_number}}</a>
            {% endif %}
        </div>
    </div>
</div>


<script>
    const openButton = document.getElementById("reservation_button");
    const modal = document.querySelector(".modal");
    const modalCloseButton = document.querySelector(".modal_close_button");
    const overlay = modal.querySelector(".modal_overlay");
    const openModal = () => {
        modal.classList.remove("hidden");

    }
    const closeModal = () => {
        modal.classList.add("hidden");
    }
    overlay.addEventListener("click", closeModal);
    modalCloseButton.addEventListener("click", closeModal);
    openButton.addEventListener("click", openModal);

</script>

    
{% endblock content %}

    